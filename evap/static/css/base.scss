// HPI color definitions
$hpiGray100:    #5e676a;
$hpiGray70:     #8e9496;
$hpiGray50:     #aeb3b4;
$hpiGray20:     #dfe1e1;
$hpiYellow100:  #f8a800;
$hpiYellow70:   #fac24c;
$hpiYellow50:   #fbd37f;
$hpiYellow20:   #feeecc;
$hpiOrange100:  #dd6108;
$hpiOrange70:   #e79052;
$hpiOrange50:   #eeb083;
$hpiOrange20:   #f8dfce;
$hpiRed100:     #af0034;
$hpiRed70:      #c74c71;
$hpiRed50:      #d77f99;
$hpiRed20:      #efccd6;
$hpiBlue100:    #007a9e;
$hpiBlue70:     #4ca2bb;
$hpiBlue50:     #7fbcce;
$hpiBlue20:     #cce4ec;

// Vote color definitions
$vote1: hsl(0.300, 80%, 80%);
$vote2: hsl(0.225, 80%, 80%);
$vote3: hsl(0.150, 80%, 80%);
$vote4: hsl(0.075, 80%, 80%);
$vote5: hsl(0.000, 80%, 80%);

@mixin link-colors($normal, $active) {
    // a mixin set sets all link colors
     a {
        text-decoration: none;
        &, &:focus, &:link, &:visited {
            color: $normal;
        }
        &:active, &:hover {
            color: $active;
        }
    }
}

@mixin enhanced-bullets {
    // use lighter-gray squares as list bullets
    list-style: none;
    margin-left: 1em;
    &:before {
        content:'\25AA';
        display: block;
        position: relative;
        max-width: 0px;
        max-height: 0px;
        left: -0.7em;
        top: 0px;
        color: $hpiGray100;
    }
}

// reset some default margins
p, ul {
    margin: 0;
}

fieldset {
    border: none;
    padding: 5px 0;
}

h1, h2, h3, h4, h5, h6 {
    font: inherit;
    margin: 0;    
}

h1 { font-size: 180%; }
h2 { font-size: 140%; }
h3 { font-size: 130%; }
h4 { font-size: 115%; }
h5 { font-size: 110%; }
h6 { font-size: 105%; }

body {
    background: white;
    font: 10pt Verdana;
    margin: 0;
    
    @include link-colors($hpiBlue100, $hpiBlue70);
}

#page-wrap {
    margin: 5px auto;
    width: 940px;     
}

#header { 
    margin: 15px auto 0;
    height: 100px;
    width: 940px; 
    position: relative;
    
    background: white;
    border-bottom: 1px dotted $hpiGray50;
    
    @include link-colors($hpiGray100, $hpiGray70);
    
    #header_left {
        position: absolute;
        bottom: 10px;
        
        h1 {
            color: $hpiGray100;
        }
        
        h2 {
            color: $hpiGray70;
        }
    }
    
    #header_right {
        position: absolute;
        bottom: 0;
        right: 0;
    }
}

#main-content {
    float: right;
    width: 780px;
    
    p, ul, h1, h2, h3, h4, h5, h6 {
        margin: 5px 0;
    }
    
    ul#actions {
        display: block;
        margin: 0;
        padding: 0;
        padding-bottom: 5px;
        margin-bottom: 5px;
        border-bottom: 1px dotted $hpiGray50;
        width: 100%;
        li {
            display: inline-block;
            margin: 0;
            padding: 2px 5px 2px 2px;
        }
    }
}

#main-sidebar {
    float: left;
    width: 150px;
    
    background: $hpiGray20 * 1.05;
    
    #main-sidebar-wrapper {
        padding: 5px;
    }
    
    ul {
        padding-left: 0;
        margin-bottom: 1em;
        li {
            @include enhanced-bullets;
        }
    }
    
    hr {
        background: $hpiGray100;
        color: $hpiGray100;
        border: 0;
        height: 1px;
    }
}
                      
#footer {
    width: 940px;
    margin: 0 auto 15px;
}

#footer {
    border-top: 1px dotted $hpiGray50;
    font-size: 80%;
}

ul.messages {
    margin: 0 0 10px 0;
    
    
    background: $hpiYellow20;
    border-radius: 4px;
    border: 1px solid $hpiGray50;
    padding: 4px;
    
    li {
        @include enhanced-bullets;
        color: $hpiOrange100;
    }
    li.warning {
        color: $hpiRed100;
    }
    li.error {
        color: $hpiRed100;
        font-weight: bold;
    }
}

ul.errorlist {
    color: $hpiRed100;
}

form.textform {
    display: inline;
    
    input[type=submit], input[type=button] {
        background: transparent;
        border: none;
        display: inline;
        font: inherit;
        margin: 0;
        padding: 0;
        cursor: pointer;
    }
}

form.vote {
    table {
        border-collapse: collapse;
        width: 100%;
    }
    
    tr.vote-group {
        font: inherit;
        th {
            vertical-align: middle;
            text-align: left;
        }
    }
    
    tr.vote-row {
        th+td {
            width: 70%;
        }
        th, td {
            border-top: 1px dotted $hpiGray50;
            font: inherit;
            text-align: left;
            vertical-align: middle;
        }
        div.vote-buttons {
            ul {
                margin: 0;
                padding: 0;
                li {
                    background: $hpiGray20;
                    border-radius: 5px;
                    display: inline-block;
                    min-width: 12%;
                    padding: 1%;
                    text-align: center;
                }
                
                li:first-child { background: $vote1; }
                li:first-child+li { background: $vote2; }
                li:first-child+li+li { background: $vote3; }
                li:first-child+li+li+li { background: $vote4; }
                li:first-child+li+li+li+li { background: $vote5; }
            }
        }
        textarea {
            width: 98%;
        }
    }
}

h4.results-section {
    border-bottom: 1px solid $hpiBlue50;
    padding: 3px 0;
}

table.results-detail {
    width: 100%;
    
    td {
        padding: 2px 0;
        vertical-align: top;
    }
    
    td.results-question-grade {
        width: 80%;
    }
    
    td.results-question-text {
        width: 30%;
    }
    
    td.results-average {
        width: 10%;
        text-align: center;
    }
    
    td.results-distribution {
        text-align: right;
        width: 10%;
        
        &>div {
            display: inline-block;
            white-space: nowrap;
            width: 100%;
            height: 2ex;
            
            div:first-child {
                border-left: 1px solid $hpiGray50;
            }
            div:last-child {
                border-right: 1px solid $hpiGray50;
            }
            
            div {
                border-top: 1px solid $hpiGray50;
                border-bottom: 1px solid $hpiGray50;
                display: inline-block;
                height: 100%;
                margin: 0;
                padding: 0;
                overflow: hidden;
                
                
                &.results-distribution-1 { background: $vote1; }
                &.results-distribution-2 { background: $vote2; }
                &.results-distribution-3 { background: $vote3; }
                &.results-distribution-4 { background: $vote4; }
                &.results-distribution-5 { background: $vote5; }
            }
        }
    }
    
    td.results-text {
        width: 30%;
        
        div {
            margin: 0;
            padding: 1ex 0;
            border-bottom: 1px solid $hpiBlue20;
            
            &:first-child {
                padding-top: 0;
            }
            
            &:last-child {
                border-bottom: none;
            }
            
            p {
                text-align: justify;
            }
        }
    }
}